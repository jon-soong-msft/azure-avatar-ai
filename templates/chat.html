<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Singtel AIDA</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}?v={{ cache_bust }}">
    <link rel="icon" href="{{ url_for('static', filename='image/favicon.ico') }}">
    <script src="{{ url_for('static', filename='js/chat.js') }}?v={{ cache_bust }}"></script>
    <script src="https://aka.ms/csspeech/jsbrowserpackageraw"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.1.3/socket.io.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>
<h1 id="main-title">Singtel AIDA</h1>

<input type="hidden" id="clientId" value="{{ client_id }}"></input>
<input type="hidden" id="enableWebSockets" value="{{ enable_websockets }}"></input>

<div id="configuration">
  <h2>üí¨ Chat Configuration</h2>
  <label for="azureOpenAIDeploymentName">Azure OpenAI Deployment Name:</label>
  <input id="azureOpenAIDeploymentName" type="text" value="gpt-4.1-mini"/>
  <label for="prompt">System Prompt:</label>
  <textarea id="prompt">You are an AI assistant called "Amanda" that helps people find information about Singtel and its AIDA team. Encourage people to ask follow up questions or suggest follow up questions, the interaction should feel interactive, natural and foster discussion instead of just being a question-response interaction only. Be brief in your response, try to keep the response under 3 sentences</textarea>
  <div>
    <input type="checkbox" id="enableOyd" checked onchange="window.updataEnableOyd()"><label for="enableOyd">Enable On Your Data</label>
  </div>

  <div id="cogSearchConfig">
    <label for="azureCogSearchIndexName">Azure Cognitive Search Index Name:</label>
    <input id="azureCogSearchIndexName" type="text" value="vector-1746455250080"/>
  </div>

  <h2>üéôÔ∏è Speech Configuration</h2>
  <label for="sttLocale">STT Locale(s):</label>
  <input id="sttLocales" type="text" value="en-US" />
  <label for="ttsVoice">TTS Voice:</label>
  <input id="ttsVoice" type="text" list="ttsVoiceList" value="en-US-AmandaMultilingualNeural" onclick="this.value=''; this.blur(); this.focus();" />
  <datalist id="ttsVoiceList">
    <option value="en-SG-LunaNeural">Luna (Singapore)</option>
    <option value="en-SG-WayneNeural">Wayne (Singapore)</option>
    <option value="en-US-AvaMultilingualNeural">Ava Multilingual (US)</option>
    <option value="en-US-AndrewMultilingualNeural">Andrew Multilingual (US)</option>
    <option value="en-US-EmmaMultilingualNeural">Emma Multilingual (US)</option>
    <option value="en-US-AlloyTurboMultilingualNeural">Alloy Turbo Multilingual (US)</option>
    <option value="en-US-EchoTurboMultilingualNeural">Echo Turbo Multilingual (US)</option>
    <option value="en-US-FableTurboMultilingualNeural">Fable Turbo Multilingual (US)</option>
    <option value="en-US-OnyxTurboMultilingualNeural">Onyx Turbo Multilingual (US)</option>
    <option value="en-US-NovaTurboMultilingualNeural">Nova Turbo Multilingual (US)</option>
    <option value="en-US-ShimmerTurboMultilingualNeural">Shimmer Turbo Multilingual (US)</option>
    <option value="en-US-BrianMultilingualNeural">Brian Multilingual (US)</option>
    <option value="en-US-AvaNeural">Ava (US)</option>
    <option value="en-US-AndrewNeural">Andrew (US)</option>
    <option value="en-US-EmmaNeural">Emma (US)</option>
    <option value="en-US-BrianNeural">Brian (US)</option>
    <option value="en-US-JennyNeural">Jenny (US)</option>
    <option value="en-US-GuyNeural">Guy (US)</option>
    <option value="en-US-AriaNeural">Aria (US)</option>
    <option value="en-US-DavisNeural">Davis (US)</option>
    <option value="en-US-JaneNeural">Jane (US)</option>
    <option value="en-US-JasonNeural">Jason (US)</option>
    <option value="en-US-KaiNeural">Kai (US)</option>
    <option value="en-US-LunaNeural">Luna (US)</option>
    <option value="en-US-SaraNeural">Sara (US)</option>
    <option value="en-US-TonyNeural">Tony (US)</option>
    <option value="en-US-NancyNeural">Nancy (US)</option>
    <option value="en-US-CoraMultilingualNeural">Cora Multilingual (US)</option>
    <option value="en-US-ChristopherMultilingualNeural">Christopher Multilingual (US)</option>
    <option value="en-US-BrandonMultilingualNeural">Brandon Multilingual (US)</option>
    <option value="en-US-AmberNeural">Amber (US)</option>
    <option value="en-US-AnaNeural">Ana (US)</option>
    <option value="en-US-AshleyNeural">Ashley (US)</option>
    <option value="en-US-BrandonNeural">Brandon (US)</option>
    <option value="en-US-ChristopherNeural">Christopher (US)</option>
    <option value="en-US-CoraNeural">Cora (US)</option>
    <option value="en-US-ElizabethNeural">Elizabeth (US)</option>
    <option value="en-US-EricNeural">Eric (US)</option>
    <option value="en-US-JacobNeural">Jacob (US)</option>
    <option value="en-US-JennyMultilingualNeural">Jenny Multilingual (US)</option>
    <option value="en-US-MichelleNeural">Michelle (US)</option>
    <option value="en-US-MonicaNeural">Monica (US)</option>
    <option value="en-US-RogerNeural">Roger (US)</option>
    <option value="en-US-RyanMultilingualNeural">Ryan Multilingual (US)</option>
    <option value="en-US-SteffanMultilingualNeural">Steffan Multilingual (US)</option>
    <option value="en-US-SteffanNeural">Steffan (US)</option>
    <option value="en-US-AdamMultilingualNeural">Adam Multilingual (US)</option>
    <option value="en-US-AIGenerateNeural">AI Generate (US)</option>
    <option value="en-US-AIGenerate2Neural">AI Generate 2 (US)</option>
    <option value="en-US-AmandaMultilingualNeural">Amanda Multilingual (US)</option>
    <option value="en-US-AshTurboMultilingualNeural">Ash Turbo Multilingual (US)</option>
    <option value="en-US-BlueNeural">Blue (US)</option>
    <option value="en-US-DavisMultilingualNeural">Davis Multilingual (US)</option>
    <option value="en-US-DerekMultilingualNeural">Derek Multilingual (US)</option>
    <option value="en-US-DustinMultilingualNeural">Dustin Multilingual (US)</option>
    <option value="en-US-EvelynMultilingualNeural">Evelyn Multilingual (US)</option>
    <option value="en-US-LewisMultilingualNeural">Lewis Multilingual (US)</option>
    <option value="en-US-LolaMultilingualNeural">Lola Multilingual (US)</option>
    <option value="en-US-NancyMultilingualNeural">Nancy Multilingual (US)</option>
    <option value="en-US-PhoebeMultilingualNeural">Phoebe Multilingual (US)</option>
    <option value="en-US-SamuelMultilingualNeural">Samuel Multilingual (US)</option>
    <option value="en-US-SerenaMultilingualNeural">Serena Multilingual (US)</option>
    <option value="en-US-Adam:DragonHDLatestNeural">Adam DragonHD (US)</option>
    <option value="en-US-Andrew:DragonHDLatestNeural">Andrew DragonHD (US)</option>
    <option value="en-US-Andrew2:DragonHDLatestNeural">Andrew2 DragonHD (US)</option>
    <option value="en-US-Ava:DragonHDLatestNeural">Ava DragonHD (US)</option>
    <option value="en-US-Brian:DragonHDLatestNeural">Brian DragonHD (US)</option>
    <option value="en-US-Davis:DragonHDLatestNeural">Davis DragonHD (US)</option>
    <option value="en-US-Emma:DragonHDLatestNeural">Emma DragonHD (US)</option>
    <option value="en-US-Emma2:DragonHDLatestNeural">Emma2 DragonHD (US)</option>
    <option value="en-US-Steffan:DragonHDLatestNeural">Steffan DragonHD (US)</option>
    <option value="en-US-Alloy:DragonHDLatestNeural">Alloy DragonHD (US)</option>
    <option value="en-US-Andrew3:DragonHDLatestNeural">Andrew3 DragonHD (US)</option>
    <option value="en-US-Aria:DragonHDLatestNeural">Aria DragonHD (US)</option>
    <option value="en-US-Ava3:DragonHDLatestNeural">Ava3 DragonHD (US)</option>
    <option value="en-US-Bree:DragonHDLatestNeural">Bree DragonHD (US)</option>
    <option value="en-US-Jane:DragonHDLatestNeural">Jane DragonHD (US)</option>
    <option value="en-US-Jenny:DragonHDLatestNeural">Jenny DragonHD (US)</option>
    <option value="en-US-MultiTalker-Ava-Andrew:DragonHDLatestNeural">Multi Ava-Andrew DragonHD (US)</option>
    <option value="en-US-MultiTalker-Ava-Steffan:DragonHDLatestNeural">Multi Ava-Steffan DragonHD (US)</option>
    <option value="en-US-Nova:DragonHDLatestNeural">Nova DragonHD (US)</option>
    <option value="en-US-Phoebe:DragonHDLatestNeural">Phoebe DragonHD (US)</option>
    <option value="en-US-Serena:DragonHDLatestNeural">Serena DragonHD (US)</option>
  </datalist>
  <label for="customVoiceEndpointId">Custom Voice Deployment ID (Endpoint ID):</label>
  <input id="customVoiceEndpointId" type="text" value="" />
  <label for="personalVoiceSpeakerProfileID">Personal Voice Speaker Profile ID:</label>
  <input id="personalVoiceSpeakerProfileID" type="text" value="" />
  <div>
    <input type="checkbox" id="continuousConversation" checked><label for="continuousConversation">Continuous Conversation</label>
  </div>

  <h2>ü§ñ Avatar Configuration</h2>
  <label for="AvatarCharacter">Avatar Character:</label>
  <input id="AvatarCharacter" type="text" list="avatarCharacterList" value="lisa" onclick="this.value=''; this.blur(); this.focus();" />
  <datalist id="avatarCharacterList">
    <option value="lisa">Lisa</option>
    <option value="harry">Harry</option>
    <option value="jeff">Jeff</option>
    <option value="lori">Lori</option>
    <option value="max">Max</option>
    <option value="meg">Meg</option>
    <option value="Aida">Aida</option>
  </datalist>
  <label for="AvatarStyle">Avatar Style:</label>
  <input id="AvatarStyle" type="text" list="avatarStyleList" value="casual-sitting" onclick="this.value=''; this.blur(); this.focus();" />
  <datalist id="avatarStyleList">
    <option value="casual-sitting">Casual Sitting (Only style supported for real-time)</option>
    <!-- Note: Other styles only work with batch synthesis, not real-time WebRTC -->
    <option value="casual">Casual</option>
    <option value="formal">Formal</option>
    <option value="graceful">Graceful</option>
    <option value="business">Business</option>
    <option value="avatar">Avatar</option>
    <!-- <option value="graceful-sitting">Graceful Sitting</option> -->
    <!-- <option value="technical-sitting">Technical Sitting</option> -->
    <!-- <option value="technical-standing">Technical Standing</option> -->
  </datalist>
  <div>
    <input type="checkbox" id="customizedAvatar"><label for="customizedAvatar">Custom Avatar</label>
  </div>
  <div>
    <input type="checkbox" id="autoReconnectAvatar"><label for="autoReconnectAvatar">Auto Reconnect</label>
  </div>
  <div>
    <input type="checkbox" id="useLocalVideoForIdle" onchange="window.updateLocalVideoForIdle()"><label for="useLocalVideoForIdle">Use Local Video for Idle</label>
  </div>
</div>

<div class="button-container">
  <button id="startSession" onclick="window.startSession()">üöÄ Open Avatar Session</button>
  <button id="microphone" onclick="window.microphone()" disabled>üé§ Start Microphone</button>
  <button id="stopSpeaking" onclick="stopSpeaking()" disabled>üõë Stop Speaking</button>
  <button id="clearChatHistory" onclick="window.clearChatHistory()">üóëÔ∏è Clear Chat History</button>
  <button id="stopSession" onclick="window.stopSession()" disabled>‚ùå Close Avatar Session</button>
</div>

<div id="userCameraContainer" class="user-camera-overlay" hidden>
  <video id="userCameraVideo" autoplay muted playsinline></video>
</div>

<div class="main-container">
  <div class="chat-section-overlay">
    <div id="chatMessages" class="chat-messages"></div>
    <div id="showTypeMessageCheckbox">
      <input type="checkbox" id="showTypeMessage" onchange="window.updateTypeMessageBox()" disabled><label for="showTypeMessage">‚å®Ô∏è Type Message</label>
    </div>
    <div class="message-input-container">
      <textarea id="userMessageBox" class="message-input" hidden></textarea>
    </div>
  </div>
  <div id="videoContainer" class="video-section-compact">
    <div class="camera-label">Avatar</div>
    <div id="localVideo" hidden>
      <video src="{{ url_for('static', filename='video/lisa-casual-sitting-idle.mp4') }}" autoplay loop muted></video>
    </div>
    <div id="remoteVideo"></div>
    <div id="mapContainer" class="map-container" hidden></div>
    <div class="latency-box">
      <textarea id="latencyLog" style="width: 200px; height: 80px;" hidden></textarea>
    </div>
  </div>
</div>
</body>
</html>
